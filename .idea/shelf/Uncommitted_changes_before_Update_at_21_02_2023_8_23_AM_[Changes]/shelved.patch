Index: app/src/main/java/com/example/myapplication/activities/Login.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.myapplication.activities;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentTransaction;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.android.volley.AuthFailureError;\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.StringRequest;\r\nimport com.android.volley.toolbox.Volley;\r\nimport com.example.myapplication.R;\r\nimport com.example.myapplication.ui.home.HomeFragment;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class Login extends AppCompatActivity {\r\n    private EditText login_email_text_input, login_password_text_input;\r\n    private Button login_btn;\r\n    private TextView tv_register_btn;\r\n\r\n    private static String JSON_URL = \"http://10.154.162.184/mosibus_php/user/\";\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login);\r\n        getSupportActionBar().hide();\r\n\r\n        init();\r\n\r\n        tv_register_btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(getApplicationContext(), Register.class);\r\n                intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                Login.this.startActivity(intent);\r\n            }\r\n        });\r\n\r\n        login_btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                //input checker\r\n                String mEmail = login_email_text_input.getText().toString().trim();\r\n                String mPass = login_password_text_input.getText().toString().trim();\r\n\r\n                if (mEmail.isEmpty() || mPass.isEmpty()){\r\n                    if (mEmail.isEmpty())\r\n                        login_email_text_input.setError(\"Please insert Email!\");\r\n                    if (mPass.isEmpty())\r\n                        login_password_text_input.setError(\"Please insert Password!\");\r\n                } else {\r\n                    LogIn(mEmail, mPass);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public void init(){\r\n        login_email_text_input = findViewById(R.id.login_email_text_input);\r\n        login_password_text_input = findViewById(R.id.login_password_text_input);\r\n\r\n        login_btn = findViewById(R.id.login_btn);\r\n        tv_register_btn = findViewById(R.id.tv_register_btn);\r\n    }\r\n\r\n    //Login\r\n    private void LogIn(String login_email_text_input, String login_password_text_input){\r\n\r\n        StringRequest stringRequest = new StringRequest(Request.Method.POST, JSON_URL+\"login.php\", new Response.Listener<String>() {\r\n            @Override\r\n            public void onResponse(String response) {\r\n                try {\r\n                    JSONObject jsonObject = new JSONObject(response);\r\n                    String success = jsonObject.getString(\"success\");\r\n\r\n\r\n                    JSONArray jsonArray = jsonObject.getJSONArray(\"login\");\r\n                    int id = 0;\r\n                    String name = \"\";\r\n\r\n                    if (success.equals(\"1\")){\r\n                        for (int i = 0; i < jsonArray.length(); i++){\r\n\r\n                            JSONObject object = jsonArray.getJSONObject(i);\r\n\r\n                            name = object.getString(\"name\").trim();\r\n                            String email = object.getString(\"email\").trim();\r\n                            id = object.getInt(\"id\");\r\n\r\n                            Toast.makeText(Login.this, \"Success Login. \\nYour Name : \"\r\n                                    + name + \"\\nYour Email : \"\r\n                                    + email + id, Toast.LENGTH_SHORT).show();\r\n\r\n                            Log.d(\"HELLO\", name + email + id);\r\n\r\n//                            final FragmentManager fragmentManager = getSupportFragmentManager();\r\n//                            final FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\r\n//                            final HomeFragment homeFragment = new HomeFragment();\r\n\r\n//                            Log.d(\"before bundling: \", String.valueOf(id));\r\n//                            Bundle bundle = new Bundle();\r\n//                            bundle.putInt(\"id\", id);\r\n//                            bundle.putString(\"name\",name);\r\n//                            homeFragment.setArguments(bundle);\r\n//\r\n//                            fragmentTransaction.add(R.id.nav_host_fragment_content_home, homeFragment).commit();\r\n\r\n                        }\r\n                        Intent intent = new Intent(getApplicationContext(), Home.class);\r\n                        intent.putExtra(\"name\",name);\r\n                        intent.putExtra(\"id\",id);\r\n                        Log.d(\"NAME LOGIN: \" , name);\r\n                        intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                        startActivity(intent);\r\n                    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                } catch (JSONException e) {\r\n                    /*\r\n                    e.printStackTrace();\r\n                    Toast.makeText(Login.this, \"Error! \"+ e.toString(),Toast.LENGTH_SHORT).show();*/\r\n                    Log.d(\"Catch\", String.valueOf(e));\r\n                    Toast.makeText(Login.this, \"Invalid Email and/or Password\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Toast.makeText(Login.this, \"Error! \"+ error.toString(),Toast.LENGTH_SHORT).show();\r\n            }\r\n        })\r\n        {\r\n            protected Map<String, String> getParams() throws AuthFailureError {\r\n                Map<String, String> params = new HashMap<>();\r\n                params.put(\"email\", login_email_text_input);\r\n                params.put(\"password\", login_password_text_input);\r\n                return params;\r\n            }\r\n        };\r\n\r\n        RequestQueue requestQueue = Volley.newRequestQueue(this);\r\n        requestQueue.add(stringRequest);\r\n\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/myapplication/activities/Login.java b/app/src/main/java/com/example/myapplication/activities/Login.java
--- a/app/src/main/java/com/example/myapplication/activities/Login.java	(revision de8740859004c854ae095f76685259e969731f54)
+++ b/app/src/main/java/com/example/myapplication/activities/Login.java	(date 1676426508320)
@@ -35,7 +35,7 @@
     private Button login_btn;
     private TextView tv_register_btn;
 
-    private static String JSON_URL = "http://10.154.162.184/mosibus_php/user/";
+    private static String JSON_URL = "http://10.207.111.129/mosibus_php/user/";
 
     @Override
     protected void onCreate(Bundle savedInstanceState) {
Index: app/src/main/java/com/example/myapplication/ui/home/HomeFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.myapplication.ui.home;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Parcelable;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.SearchView;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.constraintlayout.widget.ConstraintLayout;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.JsonArrayRequest;\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.myapplication.R;\r\nimport com.example.myapplication.adapters.HomeCategoryAdapter;\r\nimport com.example.myapplication.adapters.HomeFoodForYouAdapter;\r\nimport com.example.myapplication.adapters.HomeStorePopularAdapter;\r\nimport com.example.myapplication.adapters.HomeStoreRecAdapter;\r\nimport com.example.myapplication.databinding.FragmentHomeBinding;\r\nimport com.example.myapplication.interfaces.RecyclerViewInterface;\r\nimport com.example.myapplication.interfaces.Singleton;\r\nimport com.example.myapplication.models.HomeCategoryModel;\r\nimport com.example.myapplication.models.OrderItemModel;\r\nimport com.example.myapplication.models.OrderModel;\r\nimport com.example.myapplication.models.ProductModel;\r\nimport com.example.myapplication.models.SearchModel;\r\nimport com.example.myapplication.models.StoreModel;\r\nimport com.example.myapplication.ui.cart.CartFragment;\r\nimport com.example.myapplication.ui.categories.CategoryFragment;\r\nimport com.example.myapplication.ui.search.SearchFragment;\r\nimport com.example.myapplication.ui.store.StoreFragment;\r\nimport com.google.android.material.bottomsheet.BottomSheetDialog;\r\nimport com.makeramen.roundedimageview.RoundedImageView;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class HomeFragment extends Fragment implements RecyclerViewInterface {\r\n\r\n    private FragmentHomeBinding binding;\r\n    private RequestQueue requestQueueRec1,requestQueueRec2, requestQueueCateg, requestQueuePopu, requestQueueFood;\r\n\r\n    private static String JSON_URL=\"http://10.112.133.235/mosibus_php/user/\";\r\n\r\n\r\n    List<OrderItemModel> order_item_temp_list;\r\n    List<OrderModel> order_temp_list;\r\n\r\n    //Category Recycler View\r\n    RecyclerView rv_category;\r\n    List<HomeCategoryModel> home_categ_list;\r\n    HomeCategoryAdapter homeCategoryAdapter;\r\n\r\n    //Store Reco Recycler View\r\n    RecyclerView rv_home_store_rec;\r\n    List<StoreModel> home_store_rec_list;\r\n    HomeStoreRecAdapter homeStoreRecAdapter;\r\n\r\n    RecyclerView rv_home_store_rec2;\r\n    List<StoreModel> home_store_rec_list2;\r\n    HomeStoreRecAdapter homeStoreRecAdapter2;\r\n\r\n    // Store Popular Recycler View\r\n    RecyclerView rv_home_pop_store;\r\n    List<StoreModel> home_pop_store_list;\r\n    HomeStorePopularAdapter homeStorePopularAdapter;\r\n\r\n    //Food For You Recycler View\r\n    RecyclerView rv_food_for_you;\r\n    List<ProductModel> food_for_you_list;\r\n    HomeFoodForYouAdapter homeFoodForYouAdapter;\r\n\r\n    //Search\r\n    SearchView searchView;\r\n    List<SearchModel> searchModelList;\r\n\r\n    //For Product Bottomsheet\r\n    LinearLayout linearLayout;\r\n    TextView product_name,product_resto,product_price,product_description,tv_counter;\r\n    RoundedImageView product_image;\r\n    ConstraintLayout cl_product_add;\r\n    ConstraintLayout cl_product_minus;\r\n    Button btn_add_to_cart;\r\n    int product_count = 0;\r\n\r\n    //Category\r\n    List<StoreModel> tempStoreList;\r\n    String category;\r\n\r\n    //Getting Bundle\r\n    int userId = 0;\r\n    String userName = \"\";\r\n    HomeFragment homeFragment = this;\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n\r\n        HomeViewModel homeViewModel =\r\n                new ViewModelProvider(this).get(HomeViewModel.class);\r\n\r\n        binding = FragmentHomeBinding.inflate(inflater, container, false);\r\n        View root = binding.getRoot();\r\n\r\n        Intent intent = getActivity().getIntent();\r\n        if(intent.getStringExtra(\"name\") != null) {\r\n            userName = intent.getStringExtra(\"name\");\r\n            userId = intent.getIntExtra(\"id\",0);\r\n            Log.d(\"HOME FRAG name\", userName + userId);\r\n        } else {\r\n            Log.d(\"HOME FRAG name\", \"FAIL\");\r\n        }\r\n\r\n        order_item_temp_list = new ArrayList<>();\r\n        order_temp_list = new ArrayList<>();\r\n        searchModelList = new ArrayList<>();\r\n        tempStoreList = new ArrayList<>();\r\n        //HOME CATEGORY\r\n        home_categ_list = new ArrayList<>();\r\n        home_categ_list.add(new HomeCategoryModel(R.drawable.logo,\"Western\"));\r\n        home_categ_list.add(new HomeCategoryModel(R.drawable.logo,\"Fast Food\"));\r\n        home_categ_list.add(new HomeCategoryModel(R.drawable.logo,\"Burgers\"));\r\n        home_categ_list.add(new HomeCategoryModel(R.drawable.logo,\"Breakfast\"));\r\n        home_categ_list.add(new HomeCategoryModel(R.drawable.logo,\"Lunch\"));\r\n        home_categ_list.add(new HomeCategoryModel(R.drawable.logo,\"Dinner\"));\r\n        home_categ_list.add(new HomeCategoryModel(R.drawable.logo,\"Chinese\"));\r\n        home_categ_list.add(new HomeCategoryModel(R.drawable.logo,\"Japanese\"));\r\n        home_categ_list.add(new HomeCategoryModel(R.drawable.logo,\"Chiken\"));\r\n        home_categ_list.add(new HomeCategoryModel(R.drawable.logo,\"Asian\"));\r\n\r\n        rv_category = root.findViewById(R.id.rv_category);\r\n        homeCategoryAdapter = new HomeCategoryAdapter(getActivity().getApplicationContext(),home_categ_list,HomeFragment.this);\r\n        rv_category.setAdapter(homeCategoryAdapter);\r\n        rv_category.setLayoutManager(new LinearLayoutManager(getActivity(),RecyclerView.HORIZONTAL,false));\r\n        rv_category.setHasFixedSize(true);\r\n        rv_category.setNestedScrollingEnabled(false);\r\n        requestQueueCateg = Singleton.getsInstance(getActivity()).getRequestQueue();\r\n\r\n        //STORE REC 1\r\n        rv_home_store_rec = root.findViewById(R.id.home_store_rec);\r\n        rv_home_store_rec.setHasFixedSize(true);\r\n        rv_home_store_rec.setLayoutManager(new LinearLayoutManager(getActivity(),RecyclerView.VERTICAL,false));\r\n        rv_home_store_rec.setNestedScrollingEnabled(false);\r\n        home_store_rec_list = new ArrayList<>();\r\n        requestQueueRec1 = Singleton.getsInstance(getActivity()).getRequestQueue();\r\n        extractDataRec1();\r\n\r\n        rv_home_pop_store = root.findViewById(R.id.rv_home_store_popular);\r\n        home_pop_store_list = new ArrayList<>();\r\n        rv_home_pop_store.setLayoutManager(new LinearLayoutManager(getActivity(),RecyclerView.HORIZONTAL,false));\r\n        rv_home_pop_store.setHasFixedSize(true);\r\n        rv_home_pop_store.setNestedScrollingEnabled(false);\r\n        requestQueuePopu = Singleton.getsInstance(getActivity()).getRequestQueue();\r\n        extractPopular();\r\n\r\n        rv_food_for_you = root.findViewById(R.id.rv_home_food_for_you);\r\n        food_for_you_list = new ArrayList<>();\r\n        rv_food_for_you.setLayoutManager(new LinearLayoutManager(getActivity(),RecyclerView.HORIZONTAL,false));\r\n        rv_food_for_you.setHasFixedSize(true);\r\n        rv_food_for_you.setNestedScrollingEnabled(false);\r\n        requestQueueFood = Singleton.getsInstance(getActivity()).getRequestQueue();\r\n        extractFoodforyou();\r\n\r\n        //STORE REC 2\r\n        rv_home_store_rec2 = root.findViewById(R.id.home_store_rec2);\r\n        rv_home_store_rec2.setHasFixedSize(true);\r\n        rv_home_store_rec2.setLayoutManager(new LinearLayoutManager(getActivity(),RecyclerView.VERTICAL,false));\r\n        rv_home_store_rec2.setNestedScrollingEnabled(false);\r\n        rv_home_store_rec2 = root.findViewById(R.id.home_store_rec2);\r\n        requestQueueRec2 = Singleton.getsInstance(getActivity()).getRequestQueue();\r\n        home_store_rec_list2 = new ArrayList<>();\r\n        extractDataRec2();\r\n        Collections.shuffle(home_store_rec_list2);\r\n\r\n        //Search List\r\n        searchView = root.findViewById(R.id.searchView2);\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                Bundle bundle = new Bundle();\r\n                bundle.putString(\"search\",query);\r\n                bundle.putSerializable(\"SearchList\", (Serializable) searchModelList);\r\n                bundle.putSerializable(\"ProductList\", (Serializable) food_for_you_list);\r\n                bundle.putSerializable(\"StoreList\", (Serializable) home_store_rec_list);\r\n                SearchFragment fragment = new SearchFragment();\r\n                fragment.setArguments(bundle);\r\n                getActivity().getSupportFragmentManager().beginTransaction().replace(R.id.nav_host_fragment_content_home,fragment).commit();\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                return false;\r\n            }\r\n        });\r\n\r\n        binding.fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Bundle bundle = new Bundle();\r\n                CartFragment fragment = new CartFragment();\r\n                bundle.putSerializable(\"tempOrderList\", (Serializable) order_temp_list);\r\n                fragment.setArguments(bundle);\r\n                Log.d(\"Bundling tempOrderItemList\", String.valueOf(bundle.size()));\r\n                getActivity().getSupportFragmentManager().beginTransaction().replace(R.id.nav_host_fragment_content_home,fragment).commit();\r\n            }\r\n        });\r\n\r\n        final TextView textView = binding.textHome;\r\n        homeViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\r\n        return root;\r\n    }\r\n\r\n    @Override\r\n    public void onStart(){\r\n        super.onStart();\r\n        Log.d(\"Start\", \"Start\");\r\n    }\r\n\r\n    @Override\r\n    public void onResume(){\r\n        super.onResume();\r\n        Log.d(\"Resume\", \"Resume\");\r\n    }\r\n\r\n    @Override\r\n    public void onPause() {\r\n        super.onPause();\r\n        Log.d(\"Pause\", \"Pause\");\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        super.onStop();\r\n        Log.d(\"Stop\", \"Stop\");\r\n    }\r\n\r\n\r\n    /*@Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }*/\r\n\r\n    //Store Recommendation for RecView 1 and 2 Function\r\n    public void extractDataRec1(){\r\n        JsonArrayRequest jsonArrayRequestRec1 = new JsonArrayRequest(Request.Method.GET, JSON_URL+\"api.php\", null, new Response.Listener<JSONArray>() {\r\n            @Override\r\n            public void onResponse(JSONArray response) {\r\n                for (int i=0; i < response.length(); i++){\r\n                    try {\r\n                        JSONObject jsonObjectRec1 = response.getJSONObject(i);\r\n                        long r_id = jsonObjectRec1.getLong(\"idStore\");\r\n                        String r_image = jsonObjectRec1.getString(\"storeImage\");\r\n                        String r_name = jsonObjectRec1.getString(\"storeName\");\r\n                        String r_description = jsonObjectRec1.getString(\"storeDescription\");\r\n                        String r_location = jsonObjectRec1.getString(\"storeLocation\");\r\n                        String r_category = jsonObjectRec1.getString(\"storeCategory\");\r\n                        float r_rating = (float) jsonObjectRec1.getDouble(\"storeRating\");\r\n                        int r_popularity = jsonObjectRec1.getInt(\"storePopularity\");\r\n                        String r_open = jsonObjectRec1.getString(\"storeStartTime\");\r\n                        String r_close = jsonObjectRec1.getString(\"storeEndTime\");\r\n\r\n                        StoreModel rec = new StoreModel(r_id,r_image,r_name,r_description,r_location,r_category,\r\n                                                        (float) r_rating, r_popularity, r_open, r_close);\r\n                        SearchModel searchModel = new SearchModel(r_image, r_name, r_category);\r\n                        searchModelList.add(searchModel);\r\n                        home_store_rec_list.add(rec);\r\n                        //list.add(r_name);\r\n\r\n\r\n\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    homeStoreRecAdapter = new HomeStoreRecAdapter(getActivity(),home_store_rec_list, homeFragment);\r\n                    rv_home_store_rec.setAdapter(homeStoreRecAdapter);\r\n\r\n\r\n                }\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n\r\n            }\r\n        });\r\n        requestQueueRec1.add(jsonArrayRequestRec1);\r\n    }\r\n\r\n    public void extractDataRec2(){\r\n        JsonArrayRequest jsonArrayRequestRec2 = new JsonArrayRequest(Request.Method.GET, JSON_URL+\"api.php\", null, new Response.Listener<JSONArray>() {\r\n            @Override\r\n            public void onResponse(JSONArray response) {\r\n                for (int i=0; i < response.length(); i++){\r\n                    try {\r\n                        JSONObject jsonObject = response.getJSONObject(i);\r\n                        long r_id = jsonObject.getLong(\"idStore\");\r\n                        String r_image = jsonObject.getString(\"storeImage\");\r\n                        String r_name = jsonObject.getString(\"storeName\");\r\n                        String r_description = jsonObject.getString(\"storeDescription\");\r\n                        String r_location = jsonObject.getString(\"storeLocation\");\r\n                        String r_category = jsonObject.getString(\"storeCategory\");\r\n                        float r_rating = (float) jsonObject.getDouble(\"storeRating\");\r\n                        int r_popularity = jsonObject.getInt(\"storePopularity\");\r\n                        String r_open = jsonObject.getString(\"storeStartTime\");\r\n                        String r_close = jsonObject.getString(\"storeEndTime\");\r\n\r\n                        StoreModel store2 = new StoreModel(r_id,r_image,r_name,r_description,r_location,r_category,\r\n                                (float) r_rating, r_popularity, r_open, r_close);\r\n                        home_store_rec_list2.add(store2);\r\n\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    homeStoreRecAdapter2 = new HomeStoreRecAdapter(getActivity(),home_store_rec_list2, homeFragment);\r\n                    rv_home_store_rec2.setAdapter(homeStoreRecAdapter2);\r\n                    Log.d(\"Result\", String.valueOf(searchModelList.size()));\r\n\r\n\r\n                }\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n            }\r\n        });\r\n        requestQueueRec2.add(jsonArrayRequestRec2);\r\n    }\r\n\r\n    //Popular Recommendation Function\r\n    public void extractPopular(){\r\n\r\n        JsonArrayRequest jsonArrayRequest3 = new JsonArrayRequest(Request.Method.GET, JSON_URL+\"apipopu.php\", null, new Response.Listener<JSONArray>() {\r\n            @Override\r\n            public void onResponse(JSONArray response) {\r\n                for (int i=0; i < response.length(); i++){\r\n                    try {\r\n                        JSONObject jsonObjectPop = response.getJSONObject(i);\r\n                        long r_id = jsonObjectPop.getLong(\"idStore\");\r\n                        String r_image = jsonObjectPop.getString(\"storeImage\");\r\n                        String r_name = jsonObjectPop.getString(\"storeName\");\r\n                        String r_description = jsonObjectPop.getString(\"storeDescription\");\r\n                        String r_location = jsonObjectPop.getString(\"storeLocation\");\r\n                        String r_category = jsonObjectPop.getString(\"storeCategory\");\r\n                        float r_rating = (float) jsonObjectPop.getDouble(\"storeRating\");\r\n                        int r_popularity = jsonObjectPop.getInt(\"storePopularity\");\r\n                        String r_open = jsonObjectPop.getString(\"storeStartTime\");\r\n                        String r_close = jsonObjectPop.getString(\"storeEndTime\");\r\n\r\n                        StoreModel store3 = new StoreModel(r_id,r_image,r_name,r_description,r_location,r_category,\r\n                                (float) r_rating, r_popularity, r_open, r_close);\r\n                        home_pop_store_list.add(store3);\r\n\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    homeStorePopularAdapter = new HomeStorePopularAdapter( home_pop_store_list,getActivity(), homeFragment);\r\n                    rv_home_pop_store.setAdapter(homeStorePopularAdapter);\r\n\r\n\r\n                }\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n\r\n            }\r\n        });\r\n        requestQueuePopu.add(jsonArrayRequest3);\r\n    }\r\n    //Category Function\r\n    /*public void extractCateg(){\r\n\r\n        JsonArrayRequest jsonArrayRequest1 = new JsonArrayRequest(Request.Method.GET, JSON_URL+\"apicateg.php\", null, new Response.Listener<JSONArray>() {\r\n            @Override\r\n            public void onResponse(JSONArray response) {\r\n                for (int i=0; i < response.length(); i++){\r\n                    try {\r\n                        JSONObject jsonObject1 = response.getJSONObject(i);\r\n                        String categ_image = jsonObject1.getString(\"categ_image\");\r\n                        String categ_name = jsonObject1.getString(\"categ_name\");\r\n\r\n                        Log.d(\"Category\", categ_image + categ_name);\r\n\r\n                        HomeCategoryModel categModel = new HomeCategoryModel(categ_image,categ_name);\r\n                        home_categ_list.add(categModel);\r\n\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    homeCategoryAdapter = new HomeCategoryAdapter(getActivity(),home_categ_list);\r\n                    rv_category.setAdapter(homeCategoryAdapter);\r\n                }\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n\r\n            }\r\n        });\r\n        requestQueueCateg.add(jsonArrayRequest1);\r\n    }*/\r\n\r\n    //Food For You\r\n    public void extractFoodforyou(){\r\n        HomeFragment homeFragment = this;\r\n        JsonArrayRequest jsonArrayRequestFoodforyou= new JsonArrayRequest(Request.Method.GET, JSON_URL+\"apifood.php\", null, new Response.Listener<JSONArray>() {\r\n            @Override\r\n            public void onResponse(JSONArray response) {\r\n                for (int i=0; i < response.length(); i++){\r\n                    try {\r\n                        JSONObject jsonObjectFoodforyou = response.getJSONObject(i);\r\n                        int idProduct = jsonObjectFoodforyou.getInt(\"idProduct\");\r\n                        int idStore = jsonObjectFoodforyou.getInt(\"idStore\");\r\n                        String productName = jsonObjectFoodforyou.getString(\"productName\");\r\n                        String productDescription = jsonObjectFoodforyou.getString(\"productDescription\");\r\n                        float productPrice = (float) jsonObjectFoodforyou.getDouble(\"productPrice\");\r\n                        String productImage = jsonObjectFoodforyou.getString(\"productImage\");\r\n                        String productServingSize = jsonObjectFoodforyou.getString(\"productServingSize\");\r\n                        String productTag = jsonObjectFoodforyou.getString(\"productTag\");\r\n                        int productPrepTime = jsonObjectFoodforyou.getInt(\"productPrepTime\");\r\n                        String storeName = jsonObjectFoodforyou.getString(\"storeName\");\r\n                        String storeImage = jsonObjectFoodforyou.getString(\"storeImage\");\r\n\r\n                        ProductModel foodfyModel = new ProductModel(idProduct,idStore,productName,productDescription,productPrice,productImage,\r\n                                                                    productServingSize,productTag,productPrepTime,storeName,storeImage);\r\n                        food_for_you_list.add(foodfyModel);\r\n\r\n                        SearchModel searchModel = new SearchModel(productImage, productName, productTag);\r\n                        searchModelList.add(searchModel);\r\n                        //list.add(productName);\r\n\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    homeFoodForYouAdapter = new HomeFoodForYouAdapter(getActivity(),food_for_you_list,homeFragment);\r\n                    rv_food_for_you.setAdapter(homeFoodForYouAdapter);\r\n                }\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n\r\n            }\r\n        });\r\n        requestQueueFood.add(jsonArrayRequestFoodforyou);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onItemClickForYou(int position) {\r\n        showBottomSheet(position);\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onItemClickStorePopular(int position) {\r\n        Log.d(\"CLICKPOPU\", \"Success\");\r\n        Bundle bundle = new Bundle();\r\n//        bundle.putLong(\"StoreId\", home_pop_store_list.get(position).getStore_id());\r\n//        bundle.putString(\"Image\", home_pop_store_list.get(position).getStore_image());\r\n//        bundle.putString(\"StoreName\", home_pop_store_list.get(position).getStore_name());\r\n//        bundle.putString(\"StoreAddress\", home_pop_store_list.get(position).getStore_location());\r\n//        bundle.putString(\"StoreCategory\", home_pop_store_list.get(position).getStore_category());\r\n//        bundle.putString(\"StoreDescription\", home_pop_store_list.get(position).getStore_category());\r\n        StoreModel storeModel = home_pop_store_list.get(position);\r\n        bundle.putParcelable(\"StoreClass\", storeModel);\r\n        StoreFragment fragment = new StoreFragment();\r\n        fragment.setArguments(bundle);\r\n        getActivity().getSupportFragmentManager().beginTransaction().replace(R.id.nav_host_fragment_content_home,fragment).commit();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onItemClick(int position) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onItemClickStoreRec(int position) {\r\n        Log.d(\"CLICKPOPU\", \"Success\");\r\n        Bundle bundle = new Bundle();\r\n//        bundle.putLong(\"StoreId\", home_store_rec_list.get(position).getStore_id());\r\n//        bundle.putString(\"Image\", home_store_rec_list.get(position).getStore_image());\r\n//        bundle.putString(\"StoreName\", home_store_rec_list.get(position).getStore_name());\r\n//        bundle.putString(\"StoreAddress\", home_store_rec_list.get(position).getStore_location());\r\n//        bundle.putString(\"StoreCategory\", home_store_rec_list.get(position).getStore_category());\r\n//        bundle.putString(\"StoreDescription\", home_store_rec_list.get(position).getStore_category());\r\n        StoreModel storeModel = home_store_rec_list.get(position);\r\n        bundle.putParcelable(\"StoreClass\", storeModel);\r\n        StoreFragment fragment = new StoreFragment();\r\n        fragment.setArguments(bundle);\r\n        getActivity().getSupportFragmentManager().beginTransaction().replace(R.id.nav_host_fragment_content_home,fragment).commit();\r\n    }\r\n\r\n    @Override\r\n    public void onItemClickStoreRec2(int position) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onItemClickSearch(int pos) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onItemClickCategory(int pos) {\r\n        category = home_categ_list.get(pos).getCateg_name();\r\n\r\n        Log.d(\"Result: \", \"Success\");\r\n        Bundle bundle = new Bundle();\r\n        CategoryFragment fragment = new CategoryFragment();\r\n        bundle.putString(\"categoryString\",category);\r\n        bundle.putSerializable(\"StoreList\", (Serializable) home_store_rec_list);\r\n        fragment.setArguments(bundle);\r\n        getActivity().getSupportFragmentManager().beginTransaction().replace(R.id.nav_host_fragment_content_home,fragment).commit();\r\n\r\n    }\r\n\r\n    //Function\r\n    //Display Product BottomSheet\r\n\r\n    public void showBottomSheet(int position){\r\n        String TAG = \"Bottomsheet\";\r\n        final BottomSheetDialog bottomSheetDialog = new BottomSheetDialog(getContext(), R.style.BottomSheetDialogTheme);\r\n        Log.d(TAG, \"final BottomSheetDialog bottomSheetDialog = new BottomSheetDialog(getContext(), R.style.BottomSheetDialogTheme);\");\r\n        View bottomSheetView = LayoutInflater.from(getActivity().getApplicationContext())\r\n                .inflate(\r\n                        R.layout.product_bottom_sheet_layout,\r\n                        getActivity().findViewById(R.id.product_bottomSheet_container)\r\n                );\r\n        Log.d(TAG,\"bottomSheetView = LayoutInflater.from\");\r\n        product_image = bottomSheetView.findViewById(R.id.iv_product_imagee2);\r\n        product_name = bottomSheetView.findViewById(R.id.tv_product_namee2);\r\n        product_resto = bottomSheetView.findViewById(R.id.tv_product_restos);\r\n        product_description = bottomSheetView.findViewById(R.id.tv_product_description2);\r\n        product_price = bottomSheetView.findViewById(R.id.tv_product_pricee2);\r\n        btn_add_to_cart = bottomSheetView.findViewById(R.id.btn_add_to_cart);\r\n        cl_product_add = bottomSheetView.findViewById(R.id.cl_product_add);\r\n        cl_product_minus = bottomSheetView.findViewById(R.id.cl_product_minus);\r\n        tv_counter = bottomSheetView.findViewById(R.id.tv_counter);\r\n\r\n        Glide.with(getActivity()).load(food_for_you_list.get(position).getProductImage()).into(product_image);\r\n        product_name.setText(food_for_you_list.get(position).getProductName());\r\n        product_resto.setText(food_for_you_list.get(position).getProductRestoName());\r\n        product_description.setText(food_for_you_list.get(position).getProductDescription());\r\n        product_price.setText(\"P\"+food_for_you_list.get(position).getProductPrice());\r\n        tv_counter.setText(Integer.toString(product_count));\r\n        btn_add_to_cart.setEnabled(false);\r\n\r\n        btn_add_to_cart.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                float tempPrice = 0;\r\n                int temp_count = 0;\r\n                Log.d(\"ADD TO CART: \", \"BEFORE ORDER_ITEM\");\r\n                //Check if CartList is empty\r\n                if(order_temp_list.isEmpty()){\r\n                    temp_count = product_count;\r\n                    order_item_temp_list.add(new OrderItemModel(6,food_for_you_list.get(position).getIdProduct(),\r\n                            food_for_you_list.get(position).getProductPrice()*temp_count, temp_count,10 ,\r\n                            food_for_you_list.get(position).getProductName()));\r\n                    product_count = 0;\r\n                    for (int j = 0 ; j < order_item_temp_list.size() ; j++){\r\n                        tempPrice += order_item_temp_list.get(j).getItemPrice();\r\n                    }\r\n                    order_temp_list.add(new OrderModel(6,tempPrice,\"preparing\",food_for_you_list.get(position).getStore_idStore(),\r\n                            food_for_you_list.get(position).getProductRestoImage(),food_for_you_list.get(position).getProductRestoName(),\r\n                            userId, order_item_temp_list));\r\n                }else {\r\n                    for (int i = 0; i < order_temp_list.size(); i++) {\r\n                        //Check if Order already exist in CartList\r\n                        if (order_temp_list.get(i).getStore_name().compareTo(food_for_you_list.get(position).getProductRestoName()) == 0) {\r\n                            // Check if order item already exist\r\n                            for (int k = 0 ; k < order_temp_list.get(i).getOrderItem_list().size() ; k++){\r\n                                if(food_for_you_list.get(position).getProductName().compareTo(order_temp_list.get(i).getOrderItem_list().get(k).getProductName()) == 0){\r\n                                    temp_count = product_count;\r\n                                    int tempItemQuantity = 0;\r\n                                    tempItemQuantity = order_temp_list.get(i).getOrderItem_list().get(k).getItemQuantity();\r\n                                    tempItemQuantity += temp_count;\r\n                                    product_count = 0;\r\n                                    order_temp_list.get(i).getOrderItem_list().get(k).setItemQuantity(tempItemQuantity);\r\n                                    tempItemQuantity = 0;\r\n                                } else{\r\n                                    temp_count = product_count;\r\n                                    order_temp_list.get(i).getOrderItem_list().add(new OrderItemModel(6, food_for_you_list.get(position).getIdProduct(),\r\n                                            food_for_you_list.get(position).getProductPrice() * temp_count, temp_count, 10,\r\n                                            food_for_you_list.get(position).getProductName()));\r\n                                    product_count = 0;\r\n                                }\r\n                            }\r\n                        } else {\r\n                            order_item_temp_list = new ArrayList<>();\r\n                            temp_count = product_count;\r\n                            order_item_temp_list.add(new OrderItemModel(6, food_for_you_list.get(position).getIdProduct(),\r\n                                    food_for_you_list.get(position).getProductPrice() * temp_count, temp_count, 10,\r\n                                    food_for_you_list.get(position).getProductName()));\r\n                            product_count = 1;\r\n                            for (int j = 0; j < order_item_temp_list.size(); j++) {\r\n                                tempPrice += order_item_temp_list.get(j).getItemPrice();\r\n                            }\r\n                            order_temp_list.add(new OrderModel(6, tempPrice, \"preparing\", food_for_you_list.get(position).getStore_idStore(),\r\n                                    food_for_you_list.get(position).getProductRestoImage(), food_for_you_list.get(position).getProductRestoName(),\r\n                                    userId, order_item_temp_list));\r\n                        }\r\n                    }\r\n                }\r\n                bottomSheetDialog.dismiss();\r\n            }\r\n        });\r\n\r\n        //Add count to order\r\n        cl_product_add.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (product_count >= 0 ){\r\n                    cl_product_minus.setClickable(true);\r\n                    btn_add_to_cart.setEnabled(true);\r\n                    product_count +=1;\r\n                    tv_counter.setText(Integer.toString(product_count));\r\n                }\r\n            }\r\n        });\r\n\r\n        //Subtract count to order\r\n        cl_product_minus.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if(product_count == 0){\r\n                    cl_product_minus.setClickable(false);\r\n                    btn_add_to_cart.setEnabled(false);\r\n                }else{\r\n                    product_count -=1;\r\n                    tv_counter.setText(Integer.toString(product_count));\r\n                }\r\n            }\r\n        });\r\n        bottomSheetDialog.setContentView(bottomSheetView);\r\n        bottomSheetDialog.show();\r\n    }\r\n\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/myapplication/ui/home/HomeFragment.java b/app/src/main/java/com/example/myapplication/ui/home/HomeFragment.java
--- a/app/src/main/java/com/example/myapplication/ui/home/HomeFragment.java	(revision de8740859004c854ae095f76685259e969731f54)
+++ b/app/src/main/java/com/example/myapplication/ui/home/HomeFragment.java	(date 1676607596134)
@@ -40,7 +40,6 @@
 import com.example.myapplication.models.SearchModel;
 import com.example.myapplication.models.StoreModel;
 import com.example.myapplication.ui.cart.CartFragment;
-import com.example.myapplication.ui.categories.CategoryFragment;
 import com.example.myapplication.ui.search.SearchFragment;
 import com.example.myapplication.ui.store.StoreFragment;
 import com.google.android.material.bottomsheet.BottomSheetDialog;
@@ -60,8 +59,7 @@
     private FragmentHomeBinding binding;
     private RequestQueue requestQueueRec1,requestQueueRec2, requestQueueCateg, requestQueuePopu, requestQueueFood;
 
-    private static String JSON_URL="http://10.112.133.235/mosibus_php/user/";
-
+    private static String JSON_URL="http://10.207.111.129/mosibus_php/user/";
 
     List<OrderItemModel> order_item_temp_list;
     List<OrderModel> order_temp_list;
@@ -103,10 +101,6 @@
     Button btn_add_to_cart;
     int product_count = 0;
 
-    //Category
-    List<StoreModel> tempStoreList;
-    String category;
-
     //Getting Bundle
     int userId = 0;
     String userName = "";
@@ -133,10 +127,8 @@
         order_item_temp_list = new ArrayList<>();
         order_temp_list = new ArrayList<>();
         searchModelList = new ArrayList<>();
-        tempStoreList = new ArrayList<>();
         //HOME CATEGORY
         home_categ_list = new ArrayList<>();
-        home_categ_list.add(new HomeCategoryModel(R.drawable.logo,"Western"));
         home_categ_list.add(new HomeCategoryModel(R.drawable.logo,"Fast Food"));
         home_categ_list.add(new HomeCategoryModel(R.drawable.logo,"Burgers"));
         home_categ_list.add(new HomeCategoryModel(R.drawable.logo,"Breakfast"));
@@ -528,15 +520,6 @@
 
     @Override
     public void onItemClickCategory(int pos) {
-        category = home_categ_list.get(pos).getCateg_name();
-
-        Log.d("Result: ", "Success");
-        Bundle bundle = new Bundle();
-        CategoryFragment fragment = new CategoryFragment();
-        bundle.putString("categoryString",category);
-        bundle.putSerializable("StoreList", (Serializable) home_store_rec_list);
-        fragment.setArguments(bundle);
-        getActivity().getSupportFragmentManager().beginTransaction().replace(R.id.nav_host_fragment_content_home,fragment).commit();
 
     }
 
Index: app/src/main/java/com/example/myapplication/ui/store/StoreFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.myapplication.ui.store;\r\n\r\nimport static androidx.navigation.Navigation.findNavController;\r\n\r\nimport android.content.Context;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.constraintlayout.widget.ConstraintLayout;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.ViewModelProvider;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.android.volley.AuthFailureError;\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.JsonArrayRequest;\r\nimport com.android.volley.toolbox.StringRequest;\r\nimport com.android.volley.toolbox.Volley;\r\nimport com.bumptech.glide.Glide;\r\nimport com.example.myapplication.R;\r\nimport com.example.myapplication.activities.Login;\r\nimport com.example.myapplication.adapters.HomeFoodForYouAdapter;\r\nimport com.example.myapplication.adapters.ProductAdapter;\r\nimport com.example.myapplication.databinding.FragmentStoreBinding;\r\nimport com.example.myapplication.interfaces.RecyclerViewInterface;\r\nimport com.example.myapplication.interfaces.Singleton;\r\nimport com.example.myapplication.models.HomeFoodForYouModel;\r\nimport com.example.myapplication.models.OrderItemModel;\r\nimport com.example.myapplication.models.OrderModel;\r\nimport com.example.myapplication.models.ProductModel;\r\nimport com.example.myapplication.models.StoreModel;\r\nimport com.example.myapplication.ui.cart.CartFragment;\r\nimport com.example.myapplication.ui.home.HomeFragment;\r\nimport com.example.myapplication.ui.product.ProductFragment;\r\nimport com.google.android.material.bottomsheet.BottomSheetDialog;\r\nimport com.makeramen.roundedimageview.RoundedImageView;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class StoreFragment extends Fragment implements RecyclerViewInterface {\r\n\r\n    private FragmentStoreBinding binding;\r\n    private RequestQueue requestQueueFood,requestQueueProd;\r\n\r\n    ImageView store_image;\r\n    TextView store_name;\r\n    TextView store_address;\r\n    TextView store_description;\r\n\r\n    public long stor_id;\r\n    public String stor_image;\r\n    public String stor_name;\r\n    public String stor_address;\r\n    public String stor_category;\r\n    public String stor_description;\r\n\r\n    private static String JSON_URL=\"http://10.154.162.184/mosibus_php/user/\";\r\n\r\n\r\n    List<OrderItemModel> order_item_temp_list;\r\n    List<OrderModel> order_temp_list;\r\n\r\n    //Food For You Recycler View\r\n    RecyclerView rv_food_for_you;\r\n    List<ProductModel> food_for_you_list;\r\n    HomeFoodForYouAdapter homeFoodForYouAdapter;\r\n\r\n    //For Product Bottomsheet\r\n    LinearLayout linearLayout;\r\n    TextView product_name,product_resto,product_price,product_description,tv_counter;\r\n    RoundedImageView product_image;\r\n    ConstraintLayout cl_product_add;\r\n    ConstraintLayout cl_product_minus;\r\n    Button btn_add_to_cart;\r\n    int product_count = 0;\r\n\r\n    //Product List Recycler View\r\n    RecyclerView rv_products;\r\n    List<ProductModel> products_list;\r\n    ProductAdapter productAdapter;\r\n\r\n    int userId = 0;\r\n    String userName = \"\";\r\n    Context context;\r\n\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n        StoreViewModel storeViewModel =\r\n                new ViewModelProvider(this).get(StoreViewModel.class);\r\n\r\n        binding = FragmentStoreBinding.inflate(inflater, container, false);\r\n        View root = binding.getRoot();\r\n\r\n        store_image = root.findViewById(R.id.iv_store_image);\r\n        store_name = root.findViewById(R.id.tv_store_name_main);\r\n        store_address = root.findViewById(R.id.tv_store_address);\r\n        store_description = root.findViewById(R.id.tv_store_description);\r\n\r\n        Bundle bundle = this.getArguments();\r\n//        Log.d(\"Result Store: \" , bundle.getParcelable(\"StoreClass\"));\r\n        if(bundle != null){\r\n            if (bundle.getParcelable(\"StoreClass\") != null){\r\n                StoreModel storeModel = (StoreModel) (bundle.getParcelable(\"StoreClass\"));\r\n                stor_id = storeModel.getStore_id();\r\n                stor_image = storeModel.getStore_image();\r\n                stor_name = storeModel.getStore_name();\r\n                stor_address = storeModel.getStore_location();\r\n                stor_category = storeModel.getStore_category();\r\n                stor_description = storeModel.getStore_description();\r\n\r\n                Glide.with(getActivity().getApplicationContext())\r\n                        .load(storeModel.getStore_image())\r\n                        .into(store_image);\r\n                store_name.setText(stor_name);\r\n                store_address.setText(stor_address);\r\n                store_description.setText(stor_description);\r\n            }\r\n        }\r\n\r\n        order_item_temp_list = new ArrayList<>();\r\n        order_temp_list = new ArrayList<>();\r\n\r\n        rv_food_for_you = root.findViewById(R.id.rv_home_food_for_you);\r\n        food_for_you_list = new ArrayList<>();\r\n        rv_food_for_you.setLayoutManager(new LinearLayoutManager(getActivity(), RecyclerView.HORIZONTAL, false));\r\n        rv_food_for_you.setHasFixedSize(true);\r\n        rv_food_for_you.setNestedScrollingEnabled(false);\r\n        requestQueueFood = Singleton.getsInstance(getActivity()).getRequestQueue();\r\n        extractFoodforyou();\r\n\r\n\r\n        final String TAG = \"Testing\";\r\n\r\n        rv_products = root.findViewById(R.id.rv_products);\r\n        products_list = new ArrayList<>();\r\n        productAdapter = new ProductAdapter(getActivity(), products_list);\r\n        rv_products.setAdapter(productAdapter);\r\n        rv_products.setLayoutManager(new LinearLayoutManager(getActivity(), RecyclerView.VERTICAL, false));\r\n        rv_products.setHasFixedSize(true);\r\n        rv_products.setNestedScrollingEnabled(false);\r\n        requestQueueProd = Singleton.getsInstance(getActivity()).getRequestQueue();\r\n        SendtoDb(stor_id);\r\n\r\n        binding.fabBack.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Log.d(\"Test\",\"Success1\");\r\n                //Navigation.findNavController(view).navigate(R.id.action_nav_store_to_nav_home);\r\n                HomeFragment homeFragment = new HomeFragment();\r\n                getActivity().getSupportFragmentManager().beginTransaction().replace(R.id.nav_host_fragment_content_home,homeFragment).commit();\r\n                Log.d(\"Test\",\"Success2\");\r\n            }\r\n        });\r\n\r\n        binding.fab2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Log.d(\"ON CLICK\", \"SUCCESS\");\r\n                //Snackbar.make(view, \"Work in Progress!!! Magreredirect dapat sa cart screen\", Snackbar.LENGTH_LONG)\r\n                //        .setAction(\"Action\", null).show();\r\n\r\n                Bundle bundle2 = new Bundle();\r\n                CartFragment fragment2 = new CartFragment();\r\n                bundle2.putSerializable(\"tempOrderList\", (Serializable) order_temp_list);\r\n                fragment2.setArguments(bundle2);\r\n                Log.d(\"Bundling tempOrderItemList\", String.valueOf(bundle2.size()));\r\n                getActivity().getSupportFragmentManager().beginTransaction().replace(R.id.nav_host_fragment_content_home,fragment2).commit();\r\n                Log.d(\"END\" , \"END\");\r\n            }\r\n        });\r\n\r\n\r\n        return root;\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n\r\n\r\n    public void extractFoodforyou(){\r\n        StoreFragment storeFragment = this;\r\n        JsonArrayRequest jsonArrayRequestFoodforyou= new JsonArrayRequest(Request.Method.GET, JSON_URL+\"apifood.php\", null, new Response.Listener<JSONArray>() {\r\n            @Override\r\n            public void onResponse(JSONArray response) {\r\n                for (int i=0; i < response.length(); i++){\r\n                    try {\r\n                        JSONObject jsonObjectFoodforyou = response.getJSONObject(i);\r\n                        int idProduct = jsonObjectFoodforyou.getInt(\"idProduct\");\r\n                        int idStore = jsonObjectFoodforyou.getInt(\"idStore\");\r\n                        String productName = jsonObjectFoodforyou.getString(\"productName\");\r\n                        String productDescription = jsonObjectFoodforyou.getString(\"productDescription\");\r\n                        float productPrice = (float) jsonObjectFoodforyou.getDouble(\"productPrice\");\r\n                        String productImage = jsonObjectFoodforyou.getString(\"productImage\");\r\n                        String productServingSize = jsonObjectFoodforyou.getString(\"productServingSize\");\r\n                        String productTag = jsonObjectFoodforyou.getString(\"productTag\");\r\n                        int productPrepTime = jsonObjectFoodforyou.getInt(\"productPrepTime\");\r\n                        String storeName = jsonObjectFoodforyou.getString(\"storeName\");\r\n                        String storeImage = jsonObjectFoodforyou.getString(\"storeImage\");\r\n                        ProductModel foodfyModel = new ProductModel(idProduct,idStore,productName,productDescription,productPrice,productImage,productServingSize,productTag,productPrepTime,storeName,storeImage);\r\n                        food_for_you_list.add(foodfyModel);\r\n\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    homeFoodForYouAdapter = new HomeFoodForYouAdapter(getActivity(),food_for_you_list,storeFragment);\r\n                    rv_food_for_you.setAdapter(homeFoodForYouAdapter);\r\n                }\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n\r\n            }\r\n        });\r\n        requestQueueFood.add(jsonArrayRequestFoodforyou);\r\n    }\r\n\r\n    private void SendtoDb(long stor_id){\r\n        Log.d(\"SendtoDB: \", \"im in\");\r\n        JsonArrayRequest jsonArrayRequestProd= new JsonArrayRequest(Request.Method.GET, JSON_URL+\"apiprod.php\", null, new Response.Listener<JSONArray>() {\r\n            @Override\r\n            public void onResponse(JSONArray response) {\r\n                for (int i=0; i < response.length(); i++){\r\n                    try {\r\n                        JSONObject jsonObjectFoodforyou = response.getJSONObject(i);\r\n                        int idProduct = jsonObjectFoodforyou.getInt(\"idProduct\");\r\n                        int idStore = jsonObjectFoodforyou.getInt(\"idStore\");\r\n                        String productName = jsonObjectFoodforyou.getString(\"productName\");\r\n                        String productDescription = jsonObjectFoodforyou.getString(\"productDescription\");\r\n                        float productPrice = (float) jsonObjectFoodforyou.getDouble(\"productPrice\");\r\n                        String productImage = jsonObjectFoodforyou.getString(\"productImage\");\r\n                        String productServingSize = jsonObjectFoodforyou.getString(\"productServingSize\");\r\n                        String productTag = jsonObjectFoodforyou.getString(\"productTag\");\r\n                        int productPrepTime = jsonObjectFoodforyou.getInt(\"productPrepTime\");\r\n                        String storeName = jsonObjectFoodforyou.getString(\"storeName\");\r\n                        String storeImage = jsonObjectFoodforyou.getString(\"storeImage\");\r\n\r\n                        Log.d(\"storeid\", String.valueOf(stor_id));\r\n                        if(idStore == stor_id){\r\n                            Log.d(\"storeid\", String.valueOf(idStore));\r\n                            ProductModel productModel = new ProductModel(idProduct,idStore,productName,productDescription,productPrice,\r\n                                                            productImage,productServingSize,productTag,productPrepTime,storeName,storeImage);\r\n                            products_list.add(productModel);\r\n                        }\r\n\r\n\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    productAdapter = new ProductAdapter(getActivity(),products_list);\r\n                    rv_products.setAdapter(productAdapter);\r\n                }\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Log.d(\"Error in SendtoDB: \", String.valueOf(error));\r\n            }\r\n        });\r\n        requestQueueProd.add(jsonArrayRequestProd);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onItemClickForYou(int position) {\r\n\r\n\r\n//        Bundle bundle = new Bundle();\r\n//\r\n//        //Put Store Info\r\n//        bundle.putInt (\"StoreImage\", stor_image);\r\n//        bundle.putString(\"StoreName\", stor_name);\r\n//        bundle.putString(\"StoreAddress\", stor_address);\r\n//        bundle.putString(\"StoreCategory\", stor_category);\r\n//\r\n//        //Put Product Info\r\n//        bundle.putString(\"Image\", food_for_you_list.get(position).getProductImage());\r\n//        bundle.putString(\"Name\", food_for_you_list.get(position).getProductName());\r\n//        bundle.putString(\"Description\", food_for_you_list.get(position).getProductDescription());\r\n//        bundle.putString(\"StoreName\", String.valueOf(food_for_you_list.get(position).getStore_idStore()));\r\n//        bundle.putFloat(\"Price\", food_for_you_list.get(position).getProductPrice());\r\n//\r\n//        ProductFragment productFragment = new ProductFragment();\r\n//        productFragment.setArguments(bundle);Log.d(\"TAG\", \"Success\");\r\n//        getActivity().getSupportFragmentManager().beginTransaction().replace(R.id.drawer_layout,productFragment).commit()\r\n        showBottomSheet(position);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onItemClickStorePopular(int position) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onItemClick(int position) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onItemClickStoreRec(int position) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onItemClickStoreRec2(int position) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onItemClickCategory(int position) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onItemClickSearch(int pos)\r\n\r\n\r\n    {\r\n\r\n    }\r\n\r\n    public void showBottomSheet(int position){\r\n        String TAG = \"Bottomsheet\";\r\n        final BottomSheetDialog bottomSheetDialog = new BottomSheetDialog(getContext(), R.style.BottomSheetDialogTheme);\r\n        Log.d(TAG, \"final BottomSheetDialog bottomSheetDialog = new BottomSheetDialog(getContext(), R.style.BottomSheetDialogTheme);\");\r\n        View bottomSheetView = LayoutInflater.from(getActivity().getApplicationContext())\r\n                .inflate(\r\n                        R.layout.product_bottom_sheet_layout,\r\n                        getActivity().findViewById(R.id.product_bottomSheet_container)\r\n                );\r\n        Log.d(TAG,\"bottomSheetView = LayoutInflater.from\");\r\n        product_image = bottomSheetView.findViewById(R.id.iv_product_imagee2);\r\n        product_name = bottomSheetView.findViewById(R.id.tv_product_namee2);\r\n        product_resto = bottomSheetView.findViewById(R.id.tv_product_restos);\r\n        product_description = bottomSheetView.findViewById(R.id.tv_product_description2);\r\n        product_price = bottomSheetView.findViewById(R.id.tv_product_pricee2);\r\n        btn_add_to_cart = bottomSheetView.findViewById(R.id.btn_add_to_cart);\r\n        cl_product_add = bottomSheetView.findViewById(R.id.cl_product_add);\r\n        cl_product_minus = bottomSheetView.findViewById(R.id.cl_product_minus);\r\n        tv_counter = bottomSheetView.findViewById(R.id.tv_counter);\r\n\r\n        //product_image.setImageResource(food_for_you_list.get(position).getProductImage());\r\n        Glide.with(getActivity()).load(food_for_you_list.get(position).getProductImage()).into(product_image);\r\n        product_name.setText(food_for_you_list.get(position).getProductName());\r\n        product_resto.setText(food_for_you_list.get(position).getProductRestoName());\r\n        product_description.setText(food_for_you_list.get(position).getProductDescription());\r\n        product_price.setText(\"P\"+food_for_you_list.get(position).getProductPrice());\r\n\r\n        btn_add_to_cart.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                //Toast.makeText(this,\"Success!!!\",Toast.LENGTH_SHORT).show();\r\n                //if(arraylist.isEmpty())\r\n                //orderlist.add.orderModel\r\n                //else\r\n                float tempPrice = 0;\r\n                Log.d(\"ADD TO CART: \", \"BEFORE ORDER_ITEM\");\r\n                order_item_temp_list.add(new OrderItemModel(6,food_for_you_list.get(position).getIdProduct(),\r\n                        food_for_you_list.get(position).getProductPrice()*product_count, product_count,10 ,\r\n                        food_for_you_list.get(position).getProductName()));\r\n                Log.d(\"ADD TO CART: \", \"AFTER ORDER_ITEM\");\r\n                for (int i = 0 ; i < order_item_temp_list.size() ; i++){\r\n                    tempPrice += order_item_temp_list.get(i).getItemPrice();\r\n                }\r\n                Log.d(\"idProduct: \", String.valueOf(food_for_you_list.get(position).getIdProduct()));\r\n                Log.d(\"idProduct: \", String.valueOf(food_for_you_list.get(position).getProductPrice()));\r\n                Log.d(\"idProduct: \", String.valueOf(product_count));\r\n                Log.d(\"idProduct: \", String.valueOf(food_for_you_list.get(position).getProductName()));\r\n\r\n                order_temp_list.add(new OrderModel(6,tempPrice,\"preparing\",food_for_you_list.get(position).getStore_idStore(),\r\n                        food_for_you_list.get(position).getProductRestoName(),food_for_you_list.get(position).getProductRestoImage(),\r\n                        userId, order_item_temp_list));\r\n                Log.d(\"ordertemp\", String.valueOf(order_item_temp_list.size()));\r\n                Log.d(\"order\", String.valueOf(order_temp_list.size()));\r\n\r\n\r\n//                Bundle bundle = new Bundle();\r\n////                bundle.putParcelableArrayList(order_temp_list);\r\n//                CartFragment fragment = new CartFragment();\r\n//                //bundle.putSerializable(\"OrderSummary\", order_list);\r\n//                bundle.putParcelableArrayList(\"tempOrderItemList\", (ArrayList<? extends Parcelable>) order_item_temp_list);\r\n//                //order.putParcelable(\"Order\",order_list.get(position));\r\n//                fragment.setArguments(bundle);\r\n//                Log.d(\"Bundling tempOrderItemList\", String.valueOf(bundle.size()));\r\n                bottomSheetDialog.dismiss();\r\n            }\r\n        });\r\n\r\n        //Add count to order\r\n        cl_product_add.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (product_count >= 0 ){\r\n                    cl_product_minus.setClickable(true);\r\n                    product_count +=1;\r\n                    tv_counter.setText(Integer.toString(product_count));\r\n                }\r\n            }\r\n        });\r\n\r\n        //Subtract count to order\r\n        cl_product_minus.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if(product_count == 0){\r\n                    cl_product_minus.setClickable(false);\r\n                }else{\r\n                    product_count -=1;\r\n                    tv_counter.setText(Integer.toString(product_count));\r\n                }\r\n            }\r\n        });\r\n        bottomSheetDialog.setContentView(bottomSheetView);\r\n        bottomSheetDialog.show();\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/myapplication/ui/store/StoreFragment.java b/app/src/main/java/com/example/myapplication/ui/store/StoreFragment.java
--- a/app/src/main/java/com/example/myapplication/ui/store/StoreFragment.java	(revision de8740859004c854ae095f76685259e969731f54)
+++ b/app/src/main/java/com/example/myapplication/ui/store/StoreFragment.java	(date 1676426508304)
@@ -75,7 +75,7 @@
     public String stor_category;
     public String stor_description;
 
-    private static String JSON_URL="http://10.154.162.184/mosibus_php/user/";
+    private static String JSON_URL="http://10.207.111.129/mosibus_php/user/";
 
 
     List<OrderItemModel> order_item_temp_list;
Index: app/src/main/java/com/example/myapplication/activities/MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.myapplication.activities;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\n\r\nimport android.Manifest;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.location.Location;\r\nimport android.location.LocationListener;\r\nimport android.location.LocationManager;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Toast;\r\n\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.StringRequest;\r\nimport com.android.volley.toolbox.Volley;\r\nimport com.example.myapplication.R;\r\n\r\npublic class MainActivity extends AppCompatActivity implements LocationListener {\r\n\r\n    final static String[] PERMISSIONS = {Manifest.permission.ACCESS_COARSE_LOCATION, Manifest.permission.ACCESS_FINE_LOCATION};\r\n    final static int PERMISSIONS_ALL = 1;\r\n\r\n    LocationManager locationManager;\r\n    double curLong;\r\n    double curLat;\r\n\r\n\r\n    private final String weatherURL = \"https://api.openweathermap.org/data/2.5/weather\";\r\n    private final String appId = \"d7484fc39538bf509fe729a4bbb0a90f\";\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        getSupportActionBar().hide();\r\n\r\n        locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\r\n        if(Build.VERSION.SDK_INT >= 23){\r\n            requestPermissions(PERMISSIONS, PERMISSIONS_ALL);\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onStart(){\r\n        super.onStart();\r\n    }\r\n\r\n    @Override\r\n    protected void onResume(){\r\n        super.onResume();\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n    }\r\n\r\n    @Override\r\n    public void onLocationChanged(@NonNull Location location) {\r\n        curLat = location.getLatitude();\r\n        curLong = location.getLongitude();\r\n        requestWeather();\r\n        Log.d(\"my_log\", \"Location: \"+location.getLatitude()+\" , \"+location.getLongitude());\r\n        Toast.makeText(this, \"Location: \"+location.getLatitude()+\" , \"+location.getLongitude(), Toast.LENGTH_SHORT).show();\r\n    }\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (grantResults.length>0 && grantResults[0]== PackageManager.PERMISSION_GRANTED){\r\n\r\n            final Handler handler = new Handler();\r\n            handler.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Intent intent = new Intent(getApplicationContext(), Login.class);\r\n                    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                    MainActivity.this.startActivity(intent);\r\n                }\r\n            }, 2000);\r\n\r\n            Handler handler2 = new Handler();\r\n            handler2.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    requestLocation();\r\n                    handler2.postDelayed(this,5000);\r\n\r\n                }\r\n            },1000);\r\n\r\n        }\r\n    }\r\n\r\n    public void requestLocation(){\r\n        if (locationManager == null){\r\n            locationManager = (LocationManager) getSystemService(LOCALE_SERVICE);\r\n        }\r\n        if (locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER)){\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)==PackageManager.PERMISSION_GRANTED){\r\n                locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER,1000,1000, this);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void requestWeather(){\r\n        String tempWeatherURL = weatherURL + \"?lat=\" + curLat + \"&lon=\" + curLong + \"&appid=\" + appId;\r\n\r\n        StringRequest stringRequest = new StringRequest(Request.Method.GET, tempWeatherURL, new Response.Listener<String>() {\r\n            @Override\r\n            public void onResponse(String response) {\r\n                Log.d(\"Weather\", response);\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Toast.makeText(getApplicationContext(), error.toString().trim(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n        RequestQueue requestQueue = Volley.newRequestQueue(getApplicationContext());\r\n        requestQueue.add(stringRequest);\r\n    }\r\n\r\n    //private void setContentView(int activity_main) {\r\n    //}\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/myapplication/activities/MainActivity.java b/app/src/main/java/com/example/myapplication/activities/MainActivity.java
--- a/app/src/main/java/com/example/myapplication/activities/MainActivity.java	(revision de8740859004c854ae095f76685259e969731f54)
+++ b/app/src/main/java/com/example/myapplication/activities/MainActivity.java	(date 1676598085954)
@@ -3,10 +3,17 @@
 import androidx.annotation.NonNull;
 import androidx.appcompat.app.AppCompatActivity;
 import androidx.core.app.ActivityCompat;
+import androidx.core.content.res.ResourcesCompat;
 
 import android.Manifest;
+import android.app.Notification;
+import android.app.NotificationChannel;
+import android.app.NotificationManager;
 import android.content.Intent;
 import android.content.pm.PackageManager;
+import android.graphics.Bitmap;
+import android.graphics.drawable.BitmapDrawable;
+import android.graphics.drawable.Drawable;
 import android.location.Location;
 import android.location.LocationListener;
 import android.location.LocationManager;
@@ -38,18 +45,48 @@
     private final String weatherURL = "https://api.openweathermap.org/data/2.5/weather";
     private final String appId = "d7484fc39538bf509fe729a4bbb0a90f";
 
+    private static final String CHANNEL_ID ="My Channel";
+
+    private static final int NOTIFICATION_ID = 100;
+
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
         setContentView(R.layout.activity_main);
         getSupportActionBar().hide();
 
+        Drawable drawable = ResourcesCompat.getDrawable(getResources(), R.drawable.logo, null);
+
+        BitmapDrawable bitmapDrawable = (BitmapDrawable) drawable;
+
+        Bitmap largeIcon = bitmapDrawable.getBitmap();
+
+        NotificationManager nm = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);
+
+        Notification notification = new Notification();
+
         locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);
         if(Build.VERSION.SDK_INT >= 23){
             requestPermissions(PERMISSIONS, PERMISSIONS_ALL);
         }
 
+        if(Build.VERSION.SDK_INT >= Build.VERSION_CODES.R){
+                notification = new Notification.Builder(this)
+                .setLargeIcon(largeIcon)
+                .setSmallIcon(R.drawable.logo)
+                .setContentText("New Message")
+                .setSubText("New Message from Raman")
+                .build();
+            nm.createNotificationChannel(new NotificationChannel(CHANNEL_ID, "New Channel", NotificationManager.IMPORTANCE_HIGH));
+        } else{
+                notification = new Notification.Builder(this)
+                    .setLargeIcon(largeIcon)
+                    .setSmallIcon(R.drawable.logo)
+                    .setContentText("New Message")
+                    .build();
+        }
 
+        nm.notify(NOTIFICATION_ID, notification);
 
     }
 
Index: app/src/main/java/com/example/myapplication/activities/Register.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.myapplication.activities;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.android.volley.AuthFailureError;\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.JsonArrayRequest;\r\nimport com.android.volley.toolbox.StringRequest;\r\nimport com.android.volley.toolbox.Volley;\r\nimport com.example.myapplication.R;\r\nimport com.example.myapplication.adapters.HomeStoreRecAdapter;\r\nimport com.example.myapplication.models.StoreModel;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class Register extends AppCompatActivity {\r\n    private EditText register_name_text_input, register_email_text_input,\r\n            register_number_text_input, register_password_text_input,\r\n            register_confpassword_text_input;\r\n    private Button signup_btn;\r\n    private TextView tv_login_btn;\r\n\r\n    private static String JSON_URL = \"http://10.154.162.184/mosibus_php/user/\";\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_register);\r\n        getSupportActionBar().hide();\r\n        init();\r\n\r\n        register_name_text_input = findViewById(R.id.name_text_input);\r\n        register_email_text_input = findViewById(R.id.email_text_input);\r\n        register_number_text_input = findViewById(R.id.contact_text_input);\r\n        register_password_text_input = findViewById(R.id.password_text_input);\r\n        register_confpassword_text_input = findViewById(R.id.confpassword_text_input);\r\n\r\n        tv_login_btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(getApplicationContext(), Login.class);\r\n                intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                Register.this.startActivity(intent);\r\n            }\r\n        });\r\n\r\n        signup_btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String rname = register_name_text_input.getText().toString().trim();\r\n                String remail = register_email_text_input.getText().toString().trim();\r\n                String rnumber = register_number_text_input.getText().toString().trim();\r\n                String rpassword = register_password_text_input.getText().toString().trim();\r\n                String rconfpassword = register_confpassword_text_input.getText().toString().trim();\r\n\r\n                if (!rpassword.equals(rconfpassword)){\r\n                    register_password_text_input.setError(\"Passwords do not match\");\r\n                    register_confpassword_text_input.setError(\"Passwords do not match\");\r\n                } else if (!rname.equals(\"\")&&!remail.equals(\"\")&&!rnumber.equals(\"\")&&!rpassword.equals(\"\")){\r\n                    SignUp(rname, remail, rnumber, rpassword);\r\n\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    public void init(){\r\n        signup_btn = (Button) findViewById(R.id.signup_btn);\r\n        tv_login_btn = (TextView) findViewById(R.id.tv_login_btn);\r\n    }\r\n\r\n    private void SignUp(String register_name_text_input,  String register_email_text_input,\r\n                        String register_number_text_input, String register_password_text_input){\r\n\r\n        StringRequest stringRequest = new StringRequest(Request.Method.POST, JSON_URL+\"register.php\", new Response.Listener<String>() {\r\n            @Override\r\n            public void onResponse(String result) {\r\n                Log.d(\"1 \", result );\r\n                try {\r\n                    JSONObject jsonObject = new JSONObject(result);\r\n                    String success = jsonObject.getString(\"success\");\r\n\r\n                    if (success.equals(\"1\")){\r\n                Intent intent = new Intent(getApplicationContext(), Home.class);\r\n                intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                Register.this.startActivity(intent);\r\n                  } else {\r\n                        Toast.makeText(Register.this, \"Email/Contact has been used \",Toast.LENGTH_SHORT).show();\r\n                    }\r\n                } catch (JSONException e) {\r\n                Log.d(\"REGISTER:\", \"catch\" );\r\n                    Toast.makeText(Register.this, \"Catch \",Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Toast.makeText(Register.this, \"Error! \"+ error.toString(),Toast.LENGTH_SHORT).show();\r\n            }\r\n        })\r\n        {\r\n            protected Map<String, String> getParams() throws AuthFailureError {\r\n                Map<String, String> params = new HashMap<>();\r\n                params.put(\"name\", register_name_text_input);\r\n                params.put(\"email\", register_email_text_input);\r\n                params.put(\"contact\", register_number_text_input);\r\n                params.put(\"password\", register_password_text_input);\r\n                return params;\r\n            }\r\n        };\r\n\r\n        RequestQueue requestQueue = Volley.newRequestQueue(this);\r\n        requestQueue.add(stringRequest);\r\n    }\r\n\r\n    private void Check(String register_email_text_input, String register_number_text_input, String inputEmail, String inputNumber){\r\n\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/myapplication/activities/Register.java b/app/src/main/java/com/example/myapplication/activities/Register.java
--- a/app/src/main/java/com/example/myapplication/activities/Register.java	(revision de8740859004c854ae095f76685259e969731f54)
+++ b/app/src/main/java/com/example/myapplication/activities/Register.java	(date 1676426508288)
@@ -37,7 +37,7 @@
     private Button signup_btn;
     private TextView tv_login_btn;
 
-    private static String JSON_URL = "http://10.154.162.184/mosibus_php/user/";
+    private static String JSON_URL = "http://10.207.111.129/mosibus_php/user/";
 
     @Override
     protected void onCreate(Bundle savedInstanceState) {
Index: build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id 'com.android.application' version '7.3.1' apply false\r\n    id 'com.android.library' version '7.3.1' apply false\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/build.gradle b/build.gradle
--- a/build.gradle	(revision de8740859004c854ae095f76685259e969731f54)
+++ b/build.gradle	(date 1676426508320)
@@ -1,5 +1,5 @@
 // Top-level build file where you can add configuration options common to all sub-projects/modules.
 plugins {
-    id 'com.android.application' version '7.3.1' apply false
-    id 'com.android.library' version '7.3.1' apply false
+    id 'com.android.application' version '7.4.1' apply false
+    id 'com.android.library' version '7.4.1' apply false
 }
\ No newline at end of file
Index: gradle/wrapper/gradle-wrapper.properties
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>#Thu Sep 29 14:41:55 SGT 2022\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.4-bin.zip\r\ndistributionPath=wrapper/dists\r\nzipStorePath=wrapper/dists\r\nzipStoreBase=GRADLE_USER_HOME\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>ISO-8859-1
===================================================================
diff --git a/gradle/wrapper/gradle-wrapper.properties b/gradle/wrapper/gradle-wrapper.properties
--- a/gradle/wrapper/gradle-wrapper.properties	(revision de8740859004c854ae095f76685259e969731f54)
+++ b/gradle/wrapper/gradle-wrapper.properties	(date 1676426508335)
@@ -1,6 +1,6 @@
 #Thu Sep 29 14:41:55 SGT 2022
 distributionBase=GRADLE_USER_HOME
-distributionUrl=https\://services.gradle.org/distributions/gradle-7.4-bin.zip
+distributionUrl=https\://services.gradle.org/distributions/gradle-7.5-bin.zip
 distributionPath=wrapper/dists
 zipStorePath=wrapper/dists
 zipStoreBase=GRADLE_USER_HOME
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\">\r\n\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n    <uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" />\r\n    <uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\"/>\r\n    <uses-permission android:name=\"android.permission.FOREGROUND_SERVICE\" />\r\n    <uses-permission android:name=\"android.permission.ACCESS_BACKGROUND_LOCATION\"/>\r\n    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/>\r\n\r\n\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:dataExtractionRules=\"@xml/data_extraction_rules\"\r\n        android:fullBackupContent=\"@xml/backup_rules\"\r\n        android:icon=\"@drawable/logo\"\r\n        android:label=\"@string/app_name\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/Theme.MyApplication\"\r\n        android:usesCleartextTraffic=\"true\"\r\n        tools:targetApi=\"31\">\r\n        <activity\r\n            android:name=\".activities.Store\"\r\n            android:exported=\"true\">\r\n            <meta-data\r\n                android:name=\"android.app.lib_name\"\r\n                android:value=\"\" />\r\n        </activity>\r\n        <activity\r\n            android:name=\".activities.Home\"\r\n            android:exported=\"false\"\r\n            android:label=\"@string/title_activity_home\"\r\n            android:theme=\"@style/Theme.MyApplication.NoActionBar\">\r\n            <meta-data\r\n                android:name=\"android.app.lib_name\"\r\n                android:value=\"\" />\r\n        </activity>\r\n        <activity\r\n            android:name=\".activities.Register\"\r\n            android:exported=\"false\">\r\n            <meta-data\r\n                android:name=\"android.app.lib_name\"\r\n                android:value=\"\" />\r\n        </activity>\r\n        <activity\r\n            android:name=\".activities.Login\"\r\n            android:exported=\"false\"\r\n            android:label=\"Login\">\r\n            <meta-data\r\n                android:name=\"android.app.lib_name\"\r\n                android:value=\"\" />\r\n        </activity>\r\n        <activity\r\n            android:name=\".activities.MainActivity\"\r\n            android:exported=\"true\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n\r\n            <meta-data\r\n                android:name=\"android.app.lib_name\"\r\n                android:value=\"\" />\r\n        </activity>\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
--- a/app/src/main/AndroidManifest.xml	(revision de8740859004c854ae095f76685259e969731f54)
+++ b/app/src/main/AndroidManifest.xml	(date 1676520235824)
@@ -10,6 +10,7 @@
     <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
 
 
+    <uses-permission android:name="android.permission.POST_NOTIFICATIONS" />
 
     <application
         android:allowBackup="true"
